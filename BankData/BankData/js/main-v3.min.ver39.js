"use strict"; function comprobarCrossSelling() { window.innerWidth < 800 && $(".crossSelling-container").find(".slick-list.draggable").length < 1 ? $(".crossSelling-container").slick({ dots: !0, infinite: !0, slidesToShow: 1, slidesToScroll: 1, arrows: !1 }) : window.innerWidth > 799 && $(".crossSelling-container").find(".slick-list.draggable").length > 0 && $(".crossSelling-container").slick("unslick") } function pokeAlignerv1() { $(window).trigger("resize") } function pokeAlignerv2() { $(window).trigger("resize") } function pokeAlignerv3() { $(window).trigger("resize") } function comprobarstepsModule() { window.innerWidth < 800 && $(".stepsModule-tab-container").find(".slick-list.draggable").length < 1 ? $(".stepsModule-tab-container").slick({ dots: !1, infinite: !1, slidesToShow: 3, slidesToScroll: 1, arrows: !0, variableWidth: !0 }) : window.innerWidth > 799 && $(".stepsModule-tab-container").find(".slick-list.draggable").length > 0 && $(".stepsModule-tab-container").slick("unslick") } $(function () { $("section.accordionCoronita").length > 0 && $(".accordionCoronita-item-title").click(function () { if ($(this).parent().parent().hasClass("activeAccordion")) $(this).parent().parent().removeClass("activeAccordion"), $(this).parent().parent().find(".accordionCoronita-item-answer").css({ "max-height": "1px", "min-height": "1px" }); else { $(".accordionCoronita-item.activeAccordion").find(".accordionCoronita-item-answer").css({ "max-height": "1px", "min-height": "1px" }), $(".accordionCoronita-item").removeClass("activeAccordion"), $(this).parent().parent().addClass("activeAccordion"); var e = $(this).parent().parent().find(".accordionCoronita-item-answer-container").innerHeight(); $(this).parent().parent().find(".accordionCoronita-item-answer").css({ "max-height": e, "min-height": e }) } $(".accordionCoronita-item.activeAccordion").length > 0 ? setTimeout(function () { $("html, body").animate({ scrollTop: $(".accordionCoronita-item.activeAccordion").offset().top }, 300) }, 400) : $("html, body").animate({ scrollTop: $("section.accordionCoronita").offset().top }, 300) }) }), $(function () { $(".anclaNextSection").click(function () { $("html, body").animate({ scrollTop: $(this).closest("section").next().offset().top }, 1e3) }) }), $(function () { function e() { t(), s.length && s.each(n) } function t() { d = $(window), s = $("section.banner-bancomer") } function n(e, t) { var n, o = $(t), a = o.find(".top-on-mobile"), s = o.find(".bottom-on-mobile"); i(o), n = __.debounce(__.partial(r, __, o, a, s), 80), d.on("resize.bannerBancomer heightChange", n), d.trigger("resize.bannerBancomer") } function i(e) { e.data("last-width", d.width()), e.data("is-first-draw", !0), e.data("use-picture-height", !1) } function o(e, t, n) { var i, o, a = e.data("desktop-height"), r = e.data("use-picture-height"), s = t.find("picture").height(), d = n.height(); return a ? a : r ? Math.max(s, d) : (o = t.height(), e.height(e.height()), t.height("auto"), i = t.height(), t.height(o), e.height("auto"), o = void 0, i + d) } function a(e, t, n) { var n = d.width(), i = e.find("picture"), o = e.find(".row.title-block", ".row.iframe"), a = i.height(); return n < media.desktop ? void i.removeClass("hide") : a && o.length ? void i.addClass("hide") : void (a && !o.length && e.data("use-picture-height", !0)) } function r(e, t, n, i) { var r = d.width(), s = t.data("last-width"), c = s >= media.desktop, l = r >= media.desktop, f = t.data("is-first-draw"), h = "heightChange" === e.type; t.data("is-first-draw", !1), t.hasClass("js-hide") && t.removeClass("js-hide"), a(t, n, r), l ? (f || h || !c) && n.height(o(t, n, i)) : n.height("auto"), d.on("iframe-height-change", function (e, a) { if (t.find("iframe")[0] === a) { var r = $(a), s = r.height(); __.isUndefined(n.data("iframeH-last")) && n.data("iframeH-last", -1); var d = n.data("iframeH-last"); s !== d && (n.height(o(t, n, i)), n.data("iframeH-last", s)) } }), t.data("last-width", r) } var s, d; e() }), $(document).ready(function () { function e() { $(window).width() > 799 && $("section.banner-listado-comercial .swiper").hover(function () { $(this).find(".swiper-button-prev").fadeIn(), $(this).find(".swiper-button-next").fadeIn() }, function () { $(this).find(".swiper-button-prev").fadeOut(), $(this).find(".swiper-button-next").fadeOut() }), $("section.banner-listado-comercial .swiper-button-prev").hover(function () { $("section.banner-listado-comercial .swiper-button-prev").animate({ backgroundSize: "80%" }, 1) }, function () { $("section.banner-listado-comercial .swiper-button-prev").animate({ backgroundSize: "60%" }, 1) }), $("section.banner-listado-comercial .swiper-button-next").hover(function () { $("section.banner-listado-comercial .swiper-button-next").animate({ backgroundSize: "80%" }, 1) }, function () { $("section.banner-listado-comercial .swiper-button-next").animate({ backgroundSize: "60%" }, 1) }) } e(), $(window).resize(function () { e() }) }), $(function () { $("section.bannerBottomFixed").length > 0 && ($("section.bannerBottomFixed").find(".bannerBottomFixed-close").click(function () { $("section.bannerBottomFixed").remove() }), $(".navbar-trigger").click(function () { $(".main-menu").hasClass("mainMenuOpen") ? $("section.bannerBottomFixed").hide() : $("section.bannerBottomFixed").show() })) }), $(function () { var e = $(".title-wrapper"); e.each(function (e, t) { var n = $(t); n.css({ lineHeight: n.outerHeight() + "px" }) }) }), $(function () { function e() { t(), r.length && __(r).each(n) } function t() { o = $(window), a = $(document), r = $("section.contenido-basico-v2"), i = document.documentElement } function n(e) { var t = $(e); t.find("[data-background]").each(function (e, t) { var n = $(t); n.css("background-image", "url(" + n.data("background") + ")") }) } var i, o, a, r; e() }), $(function () { if ($(".contenido-landing").length > 0) { var e; !function () { var t = function () { $(window).trigger("resize") }; e = !1, $(".contenido-otra-informacion").length > 0 && (e = !0), $(".contenido-landing").each(function () { $(this).find(".swiper-wrapper").css("opacity", "0"), $(this).offset().top < $(window).height() && ($(this).find(".contenido-title").animate({ opacity: "1" }, 500), $(this).find(".swiper-wrapper").animate({ opacity: "1" }, 1e3), $(this).find(".btns-block").animate({ opacity: "1" }, 1500)) }), $(window).scroll(function () { var n = $(window).scrollTop() + $(window).height(); $(".contenido-landing .swiper-wrapper").each(function () { var i = $(this).offset().top + 20; n > i && $(this).animate({ opacity: "1" }, 1e3), e && t() }), $(".contenido-landing .contenido-title").each(function () { var i = $(this).offset().top + 20; n > i && $(this).animate({ opacity: "1" }, 500), e && t() }), $(".contenido-landing .btns-block").each(function () { var i = $(this).offset().top + 20; n > i && $(this).animate({ opacity: "1" }, 1500), e && t() }) }) }() } }), $(window).load(function () { if ($(".menu-horizontal-gris").length > 0) { var e = window.location.hash; $("a[href*=" + e + "]").trigger("click") } }), $(function () { function e() { t(), g.length && (u.on("resize", r), __(g).each(n)) } function t() { u = $(window), p = $(document), g = $("section.contenido-otra-informacion"), c = document.documentElement, l = 150, f = !1, h = !1, v = p.height() - u.height() - $("footer").height(), m = v - l } function n(e) { var t = $(e), n = t.find("button.close"); u.on("scroll", __(s).partial(__, t)), n.on("click", __(d).partial(__, t)) } function i(e) { return h || o(e) && !!sessionStorage[e.attr("id")] } function o(e) { return !!sessionStorage && !!e.attr("id") } function a(e) { h = !0, o(e) && (sessionStorage[e.attr("id")] = "wasClosed") } function r(e) { v = p.height() - u.height() - $("footer").height(), m = v - l } function s(e, t) { i(t) || f === u.scrollTop() < m && (t.toggleClass("slide-show"), f = !f) } function d(e, t) { t.removeClass("slide-show"), a(t) } var c, l, f, h, u, p, g, v, m; e() }), $(document).ready(function () { $(".contenido-square .contenido-round").on("click", function () { if ($(this).hasClass("contenido-round-1")) if ($(".contenido-square .container-contenido").hasClass("showContenido1")) $(".contenido-square .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-square .background-container").css("background-image", "none"); else { $(".contenido-square .container-contenido").attr("class", "container-contenido showContenido1"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-square .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-square .background-container").css("background-image", "none") } else if ($(this).hasClass("contenido-round-2")) if ($(".contenido-square .container-contenido").hasClass("showContenido2")) $(".contenido-square .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-square .background-container").css("background-image", "none"); else { $(".contenido-square .container-contenido").attr("class", "container-contenido showContenido2"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-square .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-square .background-container").css("background-image", "none") } else if ($(this).hasClass("contenido-round-3")) if ($(".contenido-square .container-contenido").hasClass("showContenido3")) $(".contenido-square .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-square .background-container").css("background-image", "none"); else { $(".contenido-square .container-contenido").attr("class", "container-contenido showContenido3"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-square .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-square .background-container").css("background-image", "none") } else if ($(".contenido-square .container-contenido").hasClass("showContenido4")) $(".contenido-square .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-square .background-container").css("background-image", "none"); else { $(".contenido-square .container-contenido").attr("class", "container-contenido showContenido4"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-square .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-square .background-container").css("background-image", "none") } $(".contenido-square").trigger("click") }) }), $(document).ready(function () { $(".contenido-triangular .contenido-round").on("click", function () { if ($(this).hasClass("contenido-round-1")) if ($(".contenido-triangular .container-contenido").hasClass("showContenido1")) $(".contenido-triangular .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-triangular .background-container").css("background-image", "none"); else { $(".contenido-triangular .container-contenido").attr("class", "container-contenido showContenido1"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-triangular .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-triangular .background-container").css("background-image", "none") } else if ($(this).hasClass("contenido-round-2")) if ($(".contenido-triangular .container-contenido").hasClass("showContenido2")) $(".contenido-triangular .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-triangular .background-container").css("background-image", "none"); else { $(".contenido-triangular .container-contenido").attr("class", "container-contenido showContenido2"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-triangular .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-triangular .background-container").css("background-image", "none") } else if ($(".contenido-triangular .container-contenido").hasClass("showContenido3")) $(".contenido-triangular .container-contenido").attr("class", "container-contenido showNothing"), $(".contenido-triangular .background-container").css("background-image", "none"); else { $(".contenido-triangular .container-contenido").attr("class", "container-contenido showContenido3"); var e = $(this).find("img.background"); e.length > 0 ? $(".contenido-triangular .background-container").css("background-image", "url(" + e.attr("src") + ")") : $(".contenido-triangular .background-container").css("background-image", "none") } $(".contenido-triangular").trigger("click") }) }), $(function () { function e() { i.each(function (e) { var t = "#" + $(this).attr("id") + " .swiper-container", n = $(t).children(".swiper-wrapper"); n && n.length > 0 && (o[e] = new Swiper(t, { spaceBetween: 0, slidesPerView: 1.2, preventClicksPropagation: !1, resistanceRatio: .5, centeredSlides: !0, roundLengths: !0, initialSlide: n.children(".active").index() }), $(this).attr("data-swiper-id", e)) }) } function t() { var e = window.location.hash; e.length > 1 && e.indexOf("contenido-desplegable-") > 0 && $(e + " .top-block a").trigger("click"), fixHeights.updateHeights() } function n() { var e = $(".contenido-desplegable.active"), t = $(".contenidos-block > .bottom-block").length ? $(".contenidos-block > .bottom-block") : $(".contenido-desplegable.active > .bottom-block"); e.hasClass("active") && t.hide().promise().done(function () { window.innerWidth > media.mobile && (t.detach().appendTo(e), $(window).scrollTop() != e.offset().top - 10 && $("html, body").animate({ scrollTop: e.offset().top - 10 }, "slow")), e.removeClass("active") }) } var i = $(".contenido-desplegable"), o = []; $.fn.extend({ updateSwiper: function () { var e = parseInt($(this).attr("data-swiper-id"), 10), t = 0, n = o[e].params.slidesPerView, i = $(".contenidos-block > .bottom-block .swiper-slide").length, a = o[e].params.freeMode, r = o[e].params.centeredSlides; window.innerWidth > media.mobile ? i <= 2 ? (n = 2, t = 2 == i ? .5 : 0, r = 2 != i, a = !0, o[e].lockSwipes()) : (n = window.innerWidth > media.tablet ? 3 : 2, t = 1, r = !0, a = !1, window.innerWidth > media.tablet ? o[e].lockSwipes() : o[e].unlockSwipes()) : (t = $(this).find(".swiper-slide.active").index(), a = !1, r = !0, o[e].unlockSwipes()), o[e].params.freeMode = a, o[e].params.centeredSlides = r, o[e].params.slidesPerView = n, o[e].update(), o[e].slideTo(t) } }), i.length > 0 && ($(".contenido-desplegable .top-block a").on("click", function (e) { e.preventDefault(), $(".contenidos-detalle-desplegable").find(".video-youtube.active iframe").remove(), $(".contenidos-detalle-desplegable").find(".video-youtube.active .video-close").trigger("click"), $(".contenidos-detalle-desplegable").find("a.swiper-close").show(); var t = $(this).closest(".contenido-desplegable"), i = $(".contenido-desplegable.active"), o = $(".contenidos-block > .bottom-block").length ? $(".contenidos-block > .bottom-block") : $(".contenido-desplegable.active > .bottom-block"); t.hasClass("active") ? (n(), setHash("#")) : (setHash("#" + t.attr("id")), o.hide().promise().done(function () { window.innerWidth > media.mobile ? (o.detach().appendTo(i), t.children(".bottom-block").detach().appendTo(".contenidos-block").show().promise().done(function () { fixHeights.updateHeights() }), (window.innerWidth <= media.tablet || t.offset().top > $(document).scrollTop()) && $("html, body").animate({ scrollTop: $(".contenido-desplegable").last().offset().top - 10 }, "slow")) : ($("html, body").animate({ scrollTop: t.offset().top - 10 }, "slow"), t.children(".bottom-block").show().promise().done(function () { fixHeights.updateHeights() })), i.removeClass("active"), t.addClass("active"), "undefined" != typeof t.data("swiper-id") && t.updateSwiper() })), fixHeights.updateHeights() }), $(document).on("click", ".swiper-close", function (e) { e.preventDefault(), n() }), $(window).on("hashchange", function (e) { e.preventDefault(), t() }), e(), t()), $(".contenidos-detalle-desplegable").find(".video-link").on("click", function () { $(".contenidos-detalle-desplegable").find("a.swiper-close").hide() }), $(".contenidos-detalle-desplegable").find(".video-close").on("click", function () { $(".contenidos-detalle-desplegable").find("a.swiper-close").show() }) }), $(function () { $(".crossSelling-container").length > 0 && (comprobarCrossSelling(), $(window).resize(function () { comprobarCrossSelling() })) }); var _Filterv1 = function (e) { function t() { var t = d.find(".filter-menu-v1"), i = []; t.each(function () { var e = $(this).find(".checkbox:checked"), t = i.length; e.length > 0 && (e.prop("disabled", !0), i[t] = i[t] || [], e.each(function () { i[t].push($(this).data("filter")) })) }), $(this).parent().toggleClass("on"), (window.innerWidth <= media.mobile || window.innerWidth > media.desktop) && $("html, body").animate({ scrollTop: e.offset().top }, 300), setTimeout(function () { c.fadeOut(400).promise().done(function () { i.length > 0 ? n(i) : c.fadeIn().promise().done(pokeAlignerv1); var o = e.find(".filter-result-v1:visible").length; o > 0 ? (e.find(".filter-results-v1 p.title.title-xs").show(), e.find(".filter-results-v1 p.title.title-xs.txt-rojo").hide(), $(".current-results").text(o)) : (e.find(".filter-results-v1 p.title.title-xs").hide(), e.find(".filter-results-v1 p.title.title-xs.txt-rojo").show()), t.find(".checkbox").prop("disabled", !1) }) }, 300) } function n(e) { var t = []; c.each(function () { var n = !1, i = $(this).data("filters"); if (i && i.length > 0) for (var o = 0; o < e.length; o++) { for (var a = 0; a < i.length; a++) { if (e[o].indexOf(i[a]) > -1) { n = !0; break } n = !1 } if (!n) break } n && t.push($(this)) }); for (var n = 0; n < t.length; n++)t[n].fadeIn().promise().done(pokeAlignerv1) } function i() { var t = d.outerWidth(), n = (e.offset().top + e.outerHeight() - l - $(window).height(), $(document).scrollTop() <= e.offset().top), i = r(); if (i) { if (d.hasClass("fixed")) { var o = e.height() - d.height() - l; d.css({ top: o, left: 0, position: "relative" }), e.find(".filter-results-v1").css("margin-left", 0), d.removeClass("fixed"), setTimeout(function () { !d.hasClass("fixed") }, 800) } } else n ? d.hasClass("fixed") && (d.css({ position: "static", top: l }), e.find(".filter-results-v1").css("margin-left", 0), d.removeClass("fixed")) : e.offset().top <= $(document).scrollTop() && (d.hasClass("fixed") || (d.css({ top: n ? l + (e.offset().top - $(document).scrollTop()) : l - $(document).scrollTop() }), d.css({ width: t, left: d.offset().left, position: "fixed", top: l }), e.find(".filter-results-v1").css("margin-left", t), d.addClass("fixed"))) } function o(e) { e.preventDefault(), d.hasClass("opened") ? (d.css({ "overflow-y": "visible", "overflow-x": "visible" }).find(".filter-menu-v1").fadeOut(400), d.find(".filters-top .title-xs").slideUp(400), $("body").css("overflow-y", "visible"), setTimeout(function () { d.css({ bottom: "-3px", height: d.find(".filters-top").outerHeight() + 4, "padding-top": 0 }).removeClass("opened") }, 400)) : (d.css("height", d.find(".filters-top").outerHeight()), d.css({ height: $(window).height(), bottom: "0" }), setTimeout(function () { d.addClass("opened").css({ "overflow-y": "scroll", "overflow-x": "hidden" }), d.find(".filters-top .title-xs").slideDown(), $("body").css("overflow-y", "hidden"), setTimeout(function () { d.css("padding-top", d.find(".filters-top").outerHeight() + 4).find(".filter-menu-v1").fadeIn().promise().done(pokeAlignerv1), onGlobalResize() }, 400) }, 800)) } function a() { var t = ($(document).scrollTop() <= e.offset().top, d.find(".filter-menu-v1:not(.collapsed)").last()); d.find(".filter-menu-v1:not(.collapsed)").length > 3 && s() && (t.addClass("collapsed"), !d.find(".filters-layer").hasClass("big") && d.find(".filters-layer").height() + t.height() < d.height() ? d.find(".filters-layer").css("width", d.width()).append(t) : d.addClass("big").find(".filters-layer").addClass("big").css("width", 2 * d.width()).append(t), a()) } function r() { return $(document).scrollTop() - ($(window).height() - d.height() - l) >= e.offset().top + e.outerHeight() - l - $(window).height() } function s() { return e.find(".filters").height() + 2 * l > $(window).height() } var d = e.find(".filters"), c = e.find(".filter-result-v1"), l = 85; this.onReady = function () { window.innerWidth > media.desktop && !isMobile.any() ? (l = d.offset().top - e.offset().top, i(), a()) : window.innerWidth <= media.mobile && (d.css("height", d.find(".filters-top").outerHeight() + 4), d.find("label").on("click touchend", function (e) { e.stopPropagation() }), d.find(".filters-top, .apply-filters").on("click", o)), d.find(".checkbox").on("change", t), $(window).on("scroll", function () { window.innerWidth > media.desktop && !isMobile.any() && i() }).on("resize", function () { window.innerWidth > media.mobile && window.innerWidth <= media.tablet ? d.attr("style", "") : window.innerWidth > media.desktop && !isMobile.any() && i(), d.css("opacity", 1) }), $(".total-results").text(e.find(".filter-result-v1").length); var n = e.find(".filter-result-v1:visible").length; n > 0 ? (e.find(".filter-results-v1 p.title.title-xs").show(), e.find(".filter-results-v1 p.title.title-xs.txt-rojo").hide(), $(".current-results").text(n)) : (e.find(".filter-results-v1 p.title.title-xs").hide(), e.find(".filter-results-v1 p.title.title-xs.txt-rojo").show()), d.css("opacity", 1) } }; $(function () { var e = $(".filtro-productos-v1"); if (e && e.length > 0) { e.each(function () { var e = new _Filterv1($(this)); e.onReady() }); var t = new Image, n = new Image, i = new Image, o = new Image; t.src = "/fbin/css/img/default/input-check.png", n.src = "/fbin/css/img/default/input-check-hover.png", i.src = "/fbin/css/img/default/input-check-checked.png", o.src = "/fbin/css/img/default/input-check-hover-checked.png" } }); var _Filterv2 = function (e) { function t() { var t = f.find(".filter-menu-v2"), o = []; t.each(function () { var e = $(this).find(".checkbox:checked"), t = o.length; e.length > 0 && (e.prop("disabled", !0), o[t] = o[t] || [], e.each(function () { o[t].push($(this).data("filter")) })) }), $(this).parent().toggleClass("on"), (window.innerWidth <= media.mobile || window.innerWidth > media.desktop) && $("html, body").animate({ scrollTop: e.offset().top }, 300), setTimeout(function () { h.fadeOut(400).promise().done(function () { if (o.length > 0) g = 0, n(o); else { g = 0; for (var a = 0; a < 50 && a < p.length; a++)p[a].fadeIn().promise().done(pokeAlignerv2); p.length > 49 ? i(p.length, p) : $(".total-results").text(p.length) } var r = e.find(".filter-result-v2:visible").length, s = "1 - " + r; r > 0 ? (e.find(".filter-results-v2 p.title.title-xs").show(), e.find(".filter-results-v2 p.title.title-xs.txt-rojo").hide(), $(".current-results").text(s)) : (e.find(".filter-results-v2 p.title.title-xs").hide(), e.find(".filter-results-v2 p.title.title-xs.txt-rojo").show(), $(".current-results").text(s), $("#paginationFiltersContainer") && $("#paginationFiltersContainer").remove()), t.find(".checkbox").prop("disabled", !1) }) }, 300) } function n(e) { var t = []; if (h.each(function () { var n = !1, i = $(this).data("filters"); if (i && i.length > 0) for (var o = 0; o < e.length; o++) { for (var a = 0; a < i.length; a++) { if (e[o].indexOf(i[a]) > -1) { n = !0; break } n = !1 } if (!n) break } n ? ($(this).data("filteredDATA", !0), t.push($(this))) : $(this).data("filteredDATA", !1) }), t.length > 50) { for (var n = 0; n < 50; n++)t[n].fadeIn().promise().done(pokeAlignerv2); i(t.length, t) } else { $("#paginationFiltersContainer").remove(); for (var n = 0; n < 50 && n < t.length; n++)t[n].fadeIn().promise().done(pokeAlignerv2); $(".total-results").text(t.length) } } function i(e, t) { $("#paginationFiltersContainer") && $("#paginationFiltersContainer").remove(); var n = 5, i = Math.ceil(e / 50); $(".total-results").text(e), $(".filter-results-v2").append('<div id="paginationFiltersContainer" class="g-sm-12 clearBoth"> <div class="filter-v2-pagination"><div class="paginationText-v2"><p>PÃ¡gina <strong class="pagActual">1</strong> de <strong>' + i + '</strong></p></div><ul class="paginationList-v2"><li class="prevArrow-v2 disabled-v2" data-page="prev">Anterior</li><li class="nextArrow-v2" data-page="next">Siguiente</li></ul></div></div>'), i < 5 && (n = i); for (var a = 0; a < n; a++)g = a + 1, 0 == a ? $("#paginationFiltersContainer").find(".nextArrow-v2").before("<li class='active-v2 numberPag' data-page='" + g + "'>" + g + "</li>") : $("#paginationFiltersContainer").find(".nextArrow-v2").before("<li class='numberPag' data-page='" + g + "'>" + g + "</li>"); o(i, t) } function o(e, t) { $("#paginationFiltersContainer li").bind("click", function (n) { n.preventDefault(), $("html").animate({ scrollTop: 0 }, 1e3), $(window).width() > 480 && $(".filters.big").css("position", "static"); var i = parseInt($("#paginationFiltersContainer li.active-v2").attr("data-page")); switch ($(this).data("page")) { case "prev": if (i > 1) { var o = i - 1; a(o, e, t) } break; case "next": if (e > i) { var o = i + 1; a(o, e, t) } break; default: $(this).hasClass("active-v2") || a(parseInt($(this).attr("data-page")), e, t) } }) } function a(e, t, n) { if ($("#paginationFiltersContainer li:nth-child(2)").attr("data-page", e), $("#paginationFiltersContainer li:nth-child(2)").text(e), $("#paginationFiltersContainer .pagActual").text(e), e == t) $("#paginationFiltersContainer li").hide(), $("#paginationFiltersContainer li:nth-child(2)").show(), $("#paginationFiltersContainer li.nextArrow-v2").show(), $("#paginationFiltersContainer li.prevArrow-v2").show(); else { $("#paginationFiltersContainer :nth-child(3)").hide(), $("#paginationFiltersContainer :nth-child(4)").hide(), $("#paginationFiltersContainer :nth-child(5)").hide(), $("#paginationFiltersContainer :nth-child(6)").hide(); for (var i = 3; i < 7; i++) { var o = e + i - 2; if ($("#paginationFiltersContainer li:nth-child(" + i + ")").attr("data-page", o), $("#paginationFiltersContainer li:nth-child(" + i + ")").text(o), $("#paginationFiltersContainer li:nth-child(" + i + ")").show(), o == t) break } } if (1 == e) var a = 0; else var a = 50 * (e - 1); h.hide(); for (var r = 0, i = a; i < a + 50 && i <= n.length - 1; i++)n[i].fadeIn().promise().done(pokeAlignerv2), r = i; $(".current-results").text(a + 1 + " - " + (r + 1)), e > 1 && e < t ? ($("#paginationFiltersContainer li.prevArrow-v2").removeClass("disabled-v2"), $("#paginationFiltersContainer li.nextArrow-v2").removeClass("disabled-v2")) : e == t ? ($("#paginationFiltersContainer li.prevArrow-v2").removeClass("disabled-v2"), $("#paginationFiltersContainer li.nextArrow-v2").addClass("disabled-v2")) : ($("#paginationFiltersContainer li.prevArrow-v2").addClass("disabled-v2"), $("#paginationFiltersContainer li.nextArrow-v2").removeClass("disabled-v2")), $("#paginationFiltersContainer li.active-v2").removeClass("active-v2"), $("#paginationFiltersContainer ul").find("[data-page='" + e + "']").addClass("active-v2") } function r() { var t = f.outerWidth(), n = (e.offset().top + e.outerHeight() - u - $(window).height(), $(document).scrollTop() <= e.offset().top), i = c(); if (i) { if (f.hasClass("fixed")) { var o = e.height() - f.height() - u; f.css({ top: o, left: 0, position: "relative" }), e.find(".filter-results-v2").css("margin-left", 0), f.removeClass("fixed"), setTimeout(function () { !f.hasClass("fixed") }, 800) } } else n ? f.hasClass("fixed") && (f.css({ position: "static", top: u }), e.find(".filter-results-v2").css("margin-left", 0), f.removeClass("fixed")) : e.offset().top <= $(document).scrollTop() && (f.hasClass("fixed") || (f.css({ top: n ? u + (e.offset().top - $(document).scrollTop()) : u - $(document).scrollTop() }), f.css({ width: t, left: f.offset().left, position: "fixed", top: u }), e.find(".filter-results-v2").css("margin-left", t), f.addClass("fixed"))) } function s(e) { e.preventDefault(), f.hasClass("opened") ? (f.css({ "overflow-y": "visible", "overflow-x": "visible" }).find(".filter-menu-v2").fadeOut(400), f.find(".filters-top .title-xs").slideUp(400), $("body").css("overflow-y", "visible"), setTimeout(function () { f.css({ bottom: "-3px", height: f.find(".filters-top").outerHeight() + 4, "padding-top": 0 }).removeClass("opened") }, 400)) : (f.css("height", f.find(".filters-top").outerHeight()), f.css({ height: $(window).height(), bottom: "0" }), setTimeout(function () { f.addClass("opened").css({ "overflow-y": "scroll", "overflow-x": "hidden" }), f.find(".filters-top .title-xs").slideDown(), $("body").css("overflow-y", "hidden"), setTimeout(function () { f.css("padding-top", f.find(".filters-top").outerHeight() + 4).find(".filter-menu-v2").fadeIn().promise().done(pokeAlignerv2), onGlobalResize() }, 400) }, 800)) } function d() { var t = ($(document).scrollTop() <= e.offset().top, f.find(".filter-menu-v2:not(.collapsed)").last()); f.find(".filter-menu-v2:not(.collapsed)").length > 3 && l() && (t.addClass("collapsed"), !f.find(".filters-layer").hasClass("big") && f.find(".filters-layer").height() + t.height() < f.height() ? f.find(".filters-layer").css("width", f.width()).append(t) : f.addClass("big").find(".filters-layer").addClass("big").css("width", 2 * f.width()).append(t), d()) } function c() { return $(document).scrollTop() - ($(window).height() - f.height() - u) >= e.offset().top + e.outerHeight() - u - $(window).height() } function l() { return e.find(".filters").height() + 2 * u > $(window).height() } var f = e.find(".filters"), h = e.find(".filter-result-v2"), u = 85, p = [], g = 0; this.onReady = function () { h.each(function () { p.push($(this)) }), g = 0; for (var n = 0; n < 50 && n < p.length; n++)p[n].fadeIn().promise().done(pokeAlignerv2); if (p.length > 49 ? i(p.length, p) : $(".total-results").text(p.length), window.innerWidth > media.desktop && !isMobile.any()) { u = f.offset().top - e.offset().top; var o = $(".filters.big").height(); o += 250, $(".filter-results-v2").css("min-height", o + "px"), r(), d() } else window.innerWidth <= media.mobile && (f.css("height", f.find(".filters-top").outerHeight() + 4), f.find("label").on("click touchend", function (e) { e.stopPropagation() }), f.find(".filters-top, .apply-filters").on("click", s)); f.find(".checkbox").on("change", t), $(window).on("scroll", function () { window.innerWidth > media.desktop && !isMobile.any() && r() }).on("resize", function () { window.innerWidth > media.mobile && window.innerWidth <= media.tablet ? f.attr("style", "") : window.innerWidth > media.desktop && !isMobile.any() && r(), f.css("opacity", 1) }), $(".total-results").text(e.find(".filter-result-v2").length); var a = e.find(".filter-result-v2:visible").length, c = "1 - " + a; a > 0 ? (e.find(".filter-results-v2 p.title.title-xs").show(), e.find(".filter-results-v2 p.title.title-xs.txt-rojo").hide(), $(".current-results").text(c)) : (e.find(".filter-results-v2 p.title.title-xs").hide(), e.find(".filter-results-v2 p.title.title-xs.txt-rojo").show(), $(".current-results").text(c), $("#paginationFiltersContainer") && $("#paginationFiltersContainer").remove()), f.css("opacity", 1) } }; $(function () { var e = $(".filtro-productos-v2"); if (e && e.length > 0) { e.each(function () { var e = new _Filterv2($(this)); e.onReady() }); var t = new Image, n = new Image, i = new Image, o = new Image; t.src = "/fbin/css/img/default/input-check.png", n.src = "/fbin/css/img/default/input-check-hover.png", i.src = "/fbin/css/img/default/input-check-checked.png", o.src = "/fbin/css/img/default/input-check-hover-checked.png" } }); var _Filterv3 = function (e) { function t() { var t = i.find(".filter-menu-v3"), a = []; t.each(function () { var e = $(this).find(".checkbox:checked"), t = a.length; e.length > 0 && (e.prop("disabled", !0), a[t] = a[t] || [], e.each(function () { a[t].push($(this).data("filter")) })) }), $(this).parent().toggleClass("on"), (window.innerWidth <= media.mobile || window.innerWidth > media.desktop) && $("html, body").animate({ scrollTop: e.offset().top }, 300), setTimeout(function () { o.fadeOut(400).promise().done(function () { a.length > 0 ? n(a) : o.fadeIn().promise().done(pokeAlignerv3); var i = e.find(".filter-result-v3:visible").length; i > 0 ? (e.find(".filter-results-v3 p.title.title-xs").show(), e.find(".filter-results-v3 p.title.title-xs.txt-rojo").hide(), $(".current-results").text(i)) : (e.find(".filter-results-v3 p.title.title-xs").hide(), e.find(".filter-results-v3 p.title.title-xs.txt-rojo").show()), t.find(".checkbox").prop("disabled", !1) }) }, 300) } function n(e) { var t = []; o.each(function () { var n = !1, i = $(this).data("filters"); if (i && i.length > 0) for (var o = 0; o < e.length; o++) { for (var a = 0; a < i.length; a++) { if (e[o].indexOf(i[a]) > -1) { n = !0; break } n = !1 } if (!n) break } n && t.push($(this)) }); for (var n = 0; n < t.length; n++)t[n].fadeIn().promise().done(pokeAlignerv3) } var i = e.find(".filters"), o = e.find(".filter-result-v3"); this.onReady = function () { i.find(".checkbox").on("change", t), $(".total-results").text(e.find(".filter-result-v3").length); var n = e.find(".filter-result-v3:visible").length; n > 0 ? (e.find(".filter-results-v3 p.title.title-xs").show(), e.find(".filter-results-v3 p.title.title-xs.txt-rojo").hide(), $(".current-results").text(n)) : (e.find(".filter-results-v3 p.title.title-xs").hide(), e.find(".filter-results-v3 p.title.title-xs.txt-rojo").show()), i.css("opacity", 1), $(".filters-quit button").click(function () { $(".filter-menu-v3").find("input").each(function () { $(this).checkbox("uncheck") }), t(), $(".filters-quit button").prop("disabled", !0) }) } }; if ($(function () {
    var e = $(".filtro-productos-v3"); e && e.length > 0 && e.each(function () { var e = new _Filterv3($(this)); e.onReady() }), $(".filtro-productos-v3").find(".filters-top").click(function () { $(this).hasClass("activeFilters") ? ($(window).width() >= 480 ? $(".filter-check-v3").css("height", "63px") : $(".filter-check-v3").css("height", "86px"), $(this).removeClass("activeFilters"), $(this).find("i").removeClass("icon-uniE072"), $(this).find("i").addClass("icon-uniE073")) : ($(".filter-check-v3").css("height", "100%"), $(this).addClass("activeFilters"), $(this).find("i").removeClass("icon-uniE073"), $(this).find("i").addClass("icon-uniE072")) }), $(".first-part").each(function () { $(this).offset().top < $(window).height() && ($(this).find(".imgLittleShow").animate({ opacity: "1" }, 1e3), $(this).find(".imgBigShow").animate({ opacity: "1" }, 1500)) }), $(".filter-menu-v3 li input").click(function () { var e = !0; $(this).each(function () { $(this).is(":checked") && (e = !1) }), e ? $(".filters-quit button").prop("disabled", !0) : $(".filters-quit button").prop("disabled", !1) }), $(window).scroll(function () {
        var e = $(window).scrollTop() + $(window).height(); $(".first-part").each(function () {
            var t = $(this).offset().top + 150; e > t && ($(this).find(".imgLittleShow").animate({
                opacity: "1"
            }, 1e3), $(this).find(".imgBigShow").animate({ opacity: "1" }, 1500))
        })
    })
}), $(".fixed-rrss") && $(".fixed-rrss").length > 0) { var lastScrollTop = 0; $(window).on("scroll", function () { var e = $(this).scrollTop(); e > lastScrollTop ? $(".fixed-rrss").addClass("s-hidden") : e < lastScrollTop && $(".fixed-rrss").removeClass("s-hidden"), lastScrollTop = e }).load(function () { setTimeout(function () { $(".fixed-rrss").addClass("s-hidden") }, 3e3) }) } $(function () { if ($("section.fondoFijoBack").length > 0) { var e = $("section.fondoFijoBack").data("background"); $("section.fondoFijoBack").css("background-image", "url(" + e + ")") } }), $(function () { function e() { r.length && (t(a, r), c && r.addClass("animation-hide").show(), $(window).on("scroll touchmove", o)) } function t(e, t) { t.find("h1").text(e.find("h1").text()) } function n() { var e = bbva.tools.getIEVersion(); return !(e && e <= 11 || !i()) } function i() { var e = ["Webkit", "Moz", "O", "ms", "Khtml"], t = document.createElement("div"); return !!defined(t.style.animationName) || !!__(e).find(function (e) { return defined(t.style[e + "AnimationName"]) }) } function o() { var e = $(window).scrollTop(); return !d && e > s ? (c ? r.removeClass("slide-up").addClass("slide-down") : r.show(), void (d = !0)) : void (d && e <= s && (c ? r.removeClass("slide-down").addClass("slide-up") : r.hide(), d = !1)) } var a = $("header.cabecera-landing").eq(0), r = a.find(".sticky"), s = a.outerHeight(), d = !1, c = n(); e() }), $(function () { function e() { t(), o.length && ($window.on("resize", updateState), __(o).each(n)) } function t() { o = $("section.contenido-destacados-v2") } function n(e) { var t = $(e), n = $node.data("last-is-desktop"), o = window.innerWidth > media.tablet; i(t), $(window).on("resize", function (e) { o !== n && i(t, o, n) }), $node.data("last-is-desktop", o) } function i(e, t, n) { e.find("picture"), e.find(".right-side.top") } var o; e() }), $(function () { $(".impacto-video video") && $(".impacto-video video").length > 0 && (isMobile.any() ? ($(".impacto-video video").remove(), $(".impacto-video .img-block").css({ height: "100%", width: "100%" }).children("img").centrarImagenVertical(), onGlobalResize()) : $(".impacto-video").each(function () { for (var e = $(this), t = e.find("video"), n = t.get(0), i = [{ file: t.data("mp4"), type: "mp4" }, { file: t.data("ogg"), type: "ogg" }, { file: t.data("webm"), type: "webm" }], o = 0; o < i.length; o++)"undefined" != typeof i[o].file && t.append('<source src="' + i[o].file + '" type="video/' + i[o].type + '">'); t.append("Your browser does not support the video tag."), n.autoplay = !0, n.load(), n.oncanplaythrough = function () { e.find(".img-block").hide(), n.play() } })) }), $(function () { if ($("section.info-app").length > 0) { var e = navigator.userAgent || navigator.vendor || window.opera; if (window.innerWidth < 481) { if (/android/i.test(e)) { var t = $("section.info-app").find(".androidApp").attr("href"); if ($("section.info-app").find(".androidApp").data("text")) { var n = $("section.info-app").find(".androidApp").data("text"); $("section.info-app").find("h2").before("<a class='btn btn-destacado btn-lg descargaApp-infoApp' href='" + t + "'>" + n + "</a>"), $("section.info-app").find(".iphoneApp").remove() } } if (/iPad|iPhone|iPod/.test(e) && !window.MSStream) { var i = $("section.info-app").find(".iphoneApp").attr("href"); if ($("section.info-app").find(".iphoneApp").data("text")) { var o = $("section.info-app").find(".iphoneApp").data("text"); $("section.info-app").find("h2").before("<a class='btn btn-destacado btn-lg descargaApp-infoApp' href='" + i + "'>" + o + "</a>"), $("section.info-app").find(".androidApp").remove() } } } } }); var autofitIframe = "undefined" != typeof autofitIframe ? autofitIframe : function (e) { "95%" === e.height && (!window.opera && document.all && document.getElementById ? e.style.height = e.contentWindow.document.body.scrollHeight : document.getElementById && (e.style.height = 35 + e.contentDocument.body.scrollHeight + "px")) }, getQuery = "undefined" != typeof getQuery ? getQuery : function (e) { var t = location.href, n = t.indexOf("?"), i = e > -1 ? "&" : "?", o = ""; if (n !== -1) for (var a = t.substring(n + 1).split("&"), r = 0, o = i; r < a.length; r++)a[r] = a[r].split("="), r > 0 && (o += "&"), o += [a[r][0]] + "=" + decodeURIComponent(a[r][1]); return o }, setIframeQueryStringParametersByClass = "undefined" != typeof setIframeQueryStringParametersByClass ? setIframeQueryStringParametersByClass : function (e) { $("." + e); $("." + e).each(function () { setIframeQueryStringParameters(this) }) }, setIframeQueryStringParameters = "undefined" != typeof setIframeQueryStringParameters ? setIframeQueryStringParameters : function (e) { var t = $(e).attr("rel"), n = t.indexOf("?"), i = t + getQuery(n); $(e).attr("src", i) }, listenerloadLBEnContainer = "undefined" != typeof listenerloadLBEnContainer ? listenerloadLBEnContainer : function (e, t) { try { var n = window.addEventListener ? "addEventListener" : "attachEvent", i = window[n], o = "attachEvent" == n ? "onmessage" : "message"; i(o, function (n) { "https://www.bancomer.com" != n.origin && "http://www.bancomer.com" != n.origin || ("wizard" == n.data.action ? loadLBEnContainer(n.data.url, e, t, "", "") : "cierra" == n.data.action && ($("#IframeresetId").attr("src", n.data.url), $("#destino0 *").remove())) }, !1) } catch (a) { console.log(a) } }, SetIframeHeight = "undefined" != typeof SetIframeHeight ? SetIframeHeight : function (e) { var t = navigator.userAgent.indexOf("MSIE") !== -1, n = navigator.userAgent.indexOf("MSIE 8") !== -1, i = "IframeresetId" == e, o = !(n && i); o ? t ? $("#" + e).iFrameResize({ heightCalculationMethod: "max", interval: 32 }) : $("#" + e).iFrameResize({ heightCalculationMethod: "max", interval: 0 }) : n && $("#" + e).iFrameResize({ heightCalculationMethod: "max", interval: 32 }) }, SetIframeHeightByClass = "undefined" != typeof SetIframeHeightByClass ? SetIframeHeightByClass : function (e) { var t = navigator.userAgent.indexOf("MSIE") !== -1; t ? $("." + e).iFrameResize({ heightCalculationMethod: "max", interval: 32, minHeight: 600 }) : $("." + e).iFrameResize({ heightCalculationMethod: "max", interval: 0 }) }; "undefined" != typeof cargaLB && $(function () { cargaLB(), "undefined" == typeof siteBancomer && listenerloadLBEnContainer(700, 450), setIframeQueryStringParametersByClass("queryIframeParam"), SetIframeHeightByClass("queryIframe") }), $(function () { function e() { $(".menu-horizontal").each(function (e) { var i = $(this).find(".swiper-wrapper"), o = !1, a = $(this).attr("id"); i.children().last().offset().top != i.children().first().offset().top && (i.removeClass("block"), o = new Swiper("#" + a + " .swiper-container", { spaceBetween: 0, slidesPerView: "auto", freeMode: !0, preventClicksPropagation: !1, resistanceRatio: .3, roundLengths: !0, initialSlide: i.children(".active").index(), onInit: n, onSliderMove: n, onTransitionEnd: n })), d.push({ elm: $(this), wrapper: i, swiper: o, id: a, activeSwiperSlide: 0 }), t(d[e]) }) } function t(e) { if (e.swiper && "undefined" != typeof e.swiper) { var t = e.wrapper.children(".active"), n = t.index(), i = 0; 0 === n || n == e.wrapper.children().length - 1 ? (e.swiper.params.centeredSlides = !1, i = e.wrapper.children(".active").index()) : window.innerWidth > media.mobile ? (e.swiper.params.centeredSlides = !1, i = e.wrapper.children(".active").prev().index()) : (e.swiper.params.centeredSlides = !0, i = e.wrapper.children(".active").index()), e.swiper.update(), e.swiper.slideTo(i) } e.wrapper.children().css("opacity", 1) } function n(e) { var t = e.container.find(".swiper-blur-left"), n = e.container.find(".swiper-blur-right"); e.isBeginning ? (t.css({ opacity: 0, "z-index": -1 }), n.css({ opacity: 1, "z-index": 2 })) : e.isEnd ? (n.css({ opacity: 0, "z-index": -1 }), t.css({ opacity: 1, "z-index": 2 })) : e.container.find(".swiper-blur-left, .swiper-blur-right").css({ opacity: 1, "z-index": 2 }) } function i(e) { var n = e.activeSwiperSlide.attr("data-target"); if (n.length > 1) { var i = $("#" + e.id).closest("section").find("." + $(n).attr("class").split(" ")[0]); i.not(n).fadeOut(300).promise().done(function () { $(n).fadeIn(300, function () { i.removeClass("active"), $(n).addClass("active"), t(e), setHash(n), onGlobalResize(); var o = window.innerWidth > media.mobile ? 70 : e.elm.hasClass("menu-wallet") ? -26 : 0; $("html, body").animate({ scrollTop: e.elm.offset().top - o }, 300) }) }) } e.wrapper.children(".swiper-slide").removeClass("active"), e.activeSwiperSlide.addClass("active"), t(e) } function o(e) { for (var t = window.location.hash, n = window.location.pathname, o = 0; o < d.length; o++)d[o].wrapper.children(".swiper-slide").each(function (a) { return t.length > 1 && (t.indexOf("ficha-") > 0 || t.indexOf("menu-") > 0) && $(this).attr("data-target") == t ? (d[o].activeSwiperSlide = $(this), i(d[o]), !1) : $(this).children("a").attr("href") == n ? (d[o].activeSwiperSlide = $(this), i(d[o]), !1) : a == d[o].wrapper.children(".swiper-slide").length - 1 && "hashchange" == e ? (d[o].activeSwiperSlidee = d[o].wrapper.children(".swiper-slide").first(), i(d[o]), !1) : void 0 }) } function a(e) { var n = e.elm.find(".menu-fixed"), i = e.elm, o = i.data("section-only") && $(document).scrollTop() + i.height() - 45 > i.closest("section").offset().top + i.closest("section").height(); i.length > 0 && i.offset().top <= $(document).scrollTop() && !n.hasClass("fixed") && !o ? (n.addClass("fixed"), n.css("top", 0), setTimeout(function () { t(e) }, 400)) : i.length > 0 && i.offset().top > $(document).scrollTop() && n.hasClass("fixed") ? (n.removeClass("fixed"), setTimeout(function () { t(e) }, 400)) : i.length > 0 && n.hasClass("fixed") && o && (clearTimeout(s), s = setTimeout(function () { n.css("top", -n.outerHeight()), setTimeout(function () { n.removeClass("fixed") }, 400) }, 200)) } function r(e) { var t = e.elm.find(".menu-fixed"); t && t.length > 0 && e.elm.css("height", t.outerHeight()), fixHeights.updateHeights() } var s, d = [], c = !1; if ($(".menu-horizontal").length > 0) { $(document).on("click", ".menu-horizontal .swiper-slide", function (e) { if ("#" == $(this).children("a").attr("href")[0]) { e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(); for (var t = $(this).closest(".menu-horizontal").attr("id"), n = 0; n < d.length; n++)if (d[n].id == t) return d[n].activeSwiperSlide = $(this), clearTimeout(s), s = setTimeout(function () { i(d[n]) }, 50), !1 } }).on("click", ".swiper-blur-right", function (e) { for (var t = $(this).closest(".menu-horizontal").attr("id"), n = 0; n < d.length; n++)if (d[n].id == t) return d[n].swiper.slideNext(), !1 }).on("click", ".swiper-blur-left", function (e) { for (var t = $(this).closest(".menu-horizontal").attr("id"), n = 0; n < d.length; n++)if (d[n].id == t) return d[n].swiper.slidePrev(), !1 }), $(window).on("resize", function () { clearTimeout(s), s = setTimeout(e, 100) }).on("hashchange", function (e) { e.preventDefault(), o("hashchange") }).on("scroll", function () { for (var e = 0; e < d.length; e++)a(d[e]) }), e(), o("ready"); for (var l = 0; l < d.length; l++)r(d[l]), a(d[l]), r(d[l]), d[l].elm.hasClass("menu-wallet") ? c && d[l].elm.find(".menu-horizontal-gris").addClass("small-arrows") : c = !0 } }), $(function () { function e(e, t, n) { if (window.innerWidth > 799) { n && $("html, body").animate({ scrollTop: e.offset().top }, 500); var i = t.find(".pf-text-container").height() + 50, o = 0; e.find(".pf-faq").each(function () { o += $(this).innerHeight() }), o > i ? (e.find(".pf-container").css("height", o), e.find(".pf-faq.pf-active .pf-text-container").css("height", o)) : e.find(".pf-container").css("height", i) } else n && $("html, body").animate({ scrollTop: e.find(".pf-faq.pf-active").offset().top }, 500), e.find(".pf-container").css("height", "auto") } $("section.preguntas-frecuentes-coronita").length > 0 && ($("section.preguntas-frecuentes-coronita").each(function () { var t = $(this); e(t, t.find(".pf-faq.pf-active")), t.find(".pf-faq").on("click", function () { var n = $(this); n.hasClass("pf-active") || (t.find(".pf-faq").find(".video-youtube.active .video-close").trigger("click"), t.find(".pf-faq").find(".video-youtube.active iframe").remove(), t.find(".pf-faq").removeClass("pf-active"), n.addClass("pf-active"), e(t, t.find(".pf-faq.pf-active"), !0)) }) }), $(window).resize(function () { $("section.preguntas-frecuentes-coronita").each(function () { e($(this), $(this).find(".pf-faq.pf-active")) }) })) }), $(function () { function e() { t && t.find(".containerMonth").click(function (e) { var t = $(this); t.hasClass("containerMonth-active") ? ($(".containerMonth").children(".containerMonthNews").slideUp(), t.removeClass("containerMonth-active")) : ($(".containerMonth").removeClass("containerMonth-active"), $(".containerMonth").children(".containerMonthNews").slideUp(), t.children(".containerMonthNews").slideDown(), t.addClass("containerMonth-active")), setTimeout(function () { $("html, body").animate({ scrollTop: t.offset().top }, 500) }, 200) }) } var t = $(".containerNewsHistory"); e() }), $(function () { $(".stepsModule-tab-container").length > 0 && (comprobarstepsModule(), $(window).resize(function () { comprobarstepsModule() }), $(".stepsModule-tab").on("click", function () { if (!$(this).hasClass("stepsModule-tab-active")) { $(".stepsModule-tab").removeClass("stepsModule-tab-active"), $(".stepsModule-content").removeClass("stepsModule-content-active"), $(this).addClass("stepsModule-tab-active"); var e = $(this).data("step-index"), t = e; e += 1, $(".stepsModule-content:nth-of-type(" + e + ")").addClass("stepsModule-content-active"), $(".stepsModule-tab-container").slick("slickGoTo", t) } }), $(".content-video-stepsModule").each(function () { var e = $(this).data("video-id"), t = "player-" + Date.now() + parseInt(1e8 * Math.random()); e.indexOf("?") == -1 ? $(this).append('<iframe id="' + t + '" src="https://www.youtube.com/embed/' + e + '?rel=0&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>') : $(this).append('<iframe id="' + t + '" src="https://www.youtube.com/embed/' + e + '&rel=0&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>') })) }); var _Swiper = function e(t) { this.params = { preventClicks: !1, preventClicksPropagation: !1, resistanceRatio: .5, roundLengths: !0, centeredSlides: !0, paginationClickable: !0, breakpoints: {}, lockSwiper: !1, destroySwiper: !1, slideToIndex: 0, autoplayDisableOnInteraction: !1 }, this.status = "toAdd", this.onReady = function () { n = $("#" + t), r(), this.onUpdate() }, this.onResize = function () { this.onUpdate() }, this.onUpdate = function () { var e = u(); switch (e.destroySwiper && "destroyed" != this.status ? this.status = "toDestroy" : e.destroySwiper || "destroyed" != this.status && "toDestroy" != this.status || (this.status = "toAdd"), this.status) { case "toAdd": d(e); break; case "toUpdate": c(e); break; case "toDestroy": l(e) } }; var n, i, o = this, a = !1, r = function () { var t = h("swiper-mobile"), n = h("swiper-tablet"), i = h("swiper-desktop"), a = (new e).params; o.params = $.extend({}, a, i), delete a.breakpoints, o.params.breakpoints[media.tablet] = $.extend({}, a, i, n), o.params.breakpoints[media.mobile] = $.extend({}, a, i, n, t) }, s = function (e) { var t = i.slideNext.bind(i), n = setInterval(t, e.autoplay); i.autoplayTimeoutId && clearTimeout(i.autoplayTimeoutId), i.on("slideChangeStart", function () { clearInterval(n), n = setInterval(t, e.autoplay) }) }, d = function (e) { i = new Swiper("#" + t + " .swiper-container", o.params), a = _Swipers.list.length - 1, o.status = "toUpdate", o.onUpdate(), i.on("onSlideChangeStart", p), document.documentMode < 10 && (Object.defineProperty(i, "animating", { configurable: !1, enumerable: !0, writable: !1, value: !1 }), Object.defineProperty(i, "autoplaying", { configurable: !1, enumerable: !0, writable: !1, value: !1 }), s(e)) }, c = function (e) { n.removeClass("swiper-updated"); var t = f(e.slideToIndex); e.lockSwiper ? (i.slideTo(0), i.lockSwipes(), n.find(".swiper-slide-duplicate").remove()) : i.unlockSwipes(), t && i.slideTo(t), setTimeout(function () { onGlobalResize(), n.addClass("swiper-updated") }, 100) }, l = function () { i && (i.destroy(), n.find(".swiper-slide-active").removeClass("swiper-slide-active")), o.status = "destroyed" }, f = function (e) { var t = n.find(".swiper-slide").length, i = n.find(".swiper-slide-active").index(); switch (e) { case "middle": return t % 2 === 0 ? t / 2 - .5 : t / 2; case "active": return i; default: return !!e && e } }, h = function (e) { return e = n.data(e), e ? e : {} }, u = function () { return window.innerWidth > media.tablet ? o.params : window.innerWidth > media.mobile ? o.params.breakpoints[media.tablet] : o.params.breakpoints[media.mobile] }, p = function (e) { var t = n.find(".swiper-slide-active iframe"); t && t.length && t.attr("id") && t.get(0).contentDocument.location.reload(!0) } }, _Swipers = { selector: ".swiper", list: [], onReady: function () { for (var e = $(".swiper"), t = 0; t < e.length; t++) { var n = new _Swiper(e.eq(t).attr("id")); n.onReady(), _Swipers.list.push(n) } }, onResize: function () { for (var e = 0; e < _Swipers.list.length; e++)_Swipers.list[e].onResize() } }; $(function () { var e; $(".swiper").length > 0 && (_Swipers.onReady(), $(window).on("resize", function () { clearTimeout(e), e = setTimeout(_Swipers.onResize, 150) })) }), $(".swiper").length > 0 && $(".swiper").trigger("click"), $(function () { $(".tabla1").length > 0 && $(".tabla1").each(function () { $(this).after("<div style='overflow-x: auto;'><table class='tabla1'>" + $(this).html() + "</table></div>"), $(this).remove() }) }), $(document).ready(function () { function e() { return t = 0, $(".menuTabBanner").find(".swiper-slide").each(function () { t += $(this).width() }), t } var t = e(); if ($("section.tabs-banner-movil").length > 0) { var n, i, o; !function () { var e = function () { var e = $(window).width() + "px"; $(".tab-banner-content-END").css("border-right-width", e) }, a = function () { $(".menuTabBanner .swiper-button-prev").hasClass("swiper-button-disabled") && $(".menuTabBanner .swiper-button-next").hasClass("swiper-button-disabled") ? ($(".menuTabBanner .prevTabBanner").hide(), $(".menuTabBanner .nextTabBanner").hide()) : ($(".menuTabBanner .swiper-button-prev").hasClass("swiper-button-disabled") ? ($(".menuTabBanner .prevTabBanner").css("opacity", "0.6"), $(".menuTabBanner .prevTabBanner").css("pointer-events", "none")) : ($(".menuTabBanner .prevTabBanner").css("opacity", "1"), $(".menuTabBanner .prevTabBanner").css("pointer-events", "initial")), $(".menuTabBanner .swiper-button-next").hasClass("swiper-button-disabled") ? ($(".menuTabBanner .nextTabBanner").css("opacity", "0.6"), $(".menuTabBanner .nextTabBanner").css("pointer-events", "none")) : ($(".menuTabBanner .nextTabBanner").css("opacity", "1"), $(".menuTabBanner .nextTabBanner").css("pointer-events", "initial"))) }, r = function () { $(".menuTabBanner .swiper-button-prev").trigger("click"), a() }, s = function () { $(".menuTabBanner .swiper-button-next").trigger("click"), a() }, d = function (e) { e.css("opacity", "0.6"), e.css("pointer-events", "none") }, c = function (e) { e.css("opacity", "1"), e.css("pointer-events", "initial") }, l = function (e) { $("section.tabs-banner-movil .menuTabBanner .container").height(e) }; n = new Swiper(".tabs-banner-movil .swiper-container", { mode: "horizontal", slidesPerView: "auto", visibilityFullFit: !0, cssWidthAndHeight: !0, keyboardControl: !0, calculateHeight: !0, nextButton: ".swiper-button-next", prevButton: ".swiper-button-prev" }), $(".menuTabBanner").find(".tabBanner0").addClass("activeTab"), $(".menuTabBanner").addClass("dataActive"), $(".tab-banner-content .tab-banner-content").eq(0).addClass("dataActive"), $(".tab-banner-label").on("click", function (e) { console.log("width: " + $(window).width()), $(window).width() < t && $(".swiper-wrapper").css({ transform: "translate3d(-" + $("#" + $(this).attr("id")).position().left / 2 + "px, 0px, 0px)" }); var n = $(".tab-banner-content .content-img .imgTab.dataActive").index(), i = $(this).index(); $(this).index() === $(".swiper-slide.tab-banner-label").length - 1 ? (d($(".tab-banner-content .nextTabBanner")), c($(".tab-banner-content .prevTabBanner"))) : 0 === $(this).index() ? (d($(".tab-banner-content .prevTabBanner")), c($(".tab-banner-content .nextTabBanner"))) : (c($(".tab-banner-content .prevTabBanner")), c($(".tab-banner-content .nextTabBanner"))), $(".menuTabBanner .tab-banner-label").css("pointer-events", "none"), $(".tab-banner-label").removeClass("activeTab"), $(this).addClass("activeTab"), $(".tab-banner-content .tab-banner-content.dataActive iframe").remove(); var o = $(".tab-banner-content .tab-banner-content.dataActive .content-video-banner-tab"), a = o.data("video-id"), r = "player-" + Date.now() + parseInt(1e8 * Math.random()); a.indexOf("?") == -1 ? o.append('<iframe id="' + r + '" src="https://www.youtube.com/embed/' + a + '?rel=0&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>') : o.append('<iframe id="' + r + '" src="https://www.youtube.com/embed/' + a + '&rel=0&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>'), $(".tab-banner-content .tab-banner-content.dataActive").removeClass("dataActive"), $(".tab-banner-content .tab-banner-content").eq(i).addClass("dataActive"), $(".tab-banner-content .content-img .imgTab.dataActive").addClass("activePre"), $(".tab-banner-content .content-img .imgTab").eq(i).addClass("dataActive"), setTimeout(function () { $(".tab-banner-content .content-img .imgTab").eq(n).removeClass("activePre dataActive"), $(".menuTabBanner .tab-banner-label").css("pointer-events", "initial") }, 500) }), $(".content-video-banner-tab").each(function () { var e = $(this).data("video-id"), t = "player-" + Date.now() + parseInt(1e8 * Math.random()); e.indexOf("?") == -1 ? $(this).append('<iframe id="' + t + '" src="https://www.youtube.com/embed/' + e + '?rel=0&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>') : $(this).append('<iframe id="' + t + '" src="https://www.youtube.com/embed/' + e + '&rel=0&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>') }), e(), $(window).resize(function () { e() }), a(), $(".menuTabBanner .prevTabBanner").on("click", function () { r() }), $(".menuTabBanner .nextTabBanner").on("click", function () { s() }), $(".menuTabBanner .swiper-slide").length > 1 ? !function () { var e = function (e) { var t = parseInt($(".menuTabBanner .swiper-slide.activeTab").data("tab").split("b")[1]) - 1; $(".menuTabBanner .swiper-slide.tabBanner" + t).trigger("click"), 0 === t ? (d(e), c($(".tab-banner-content .nextTabBanner"))) : (c(e), c($(".tab-banner-content .nextTabBanner"))) }, t = function (e) { var t = parseInt($(".menuTabBanner .swiper-slide.activeTab").data("tab").split("b")[1]) + 1; $(".menuTabBanner .swiper-slide.tabBanner" + t).trigger("click"), t === $(".menuTabBanner .swiper-slide").length - 1 ? (d(e), c($(".tab-banner-content .prevTabBanner"))) : (c(e), c($(".tab-banner-content .prevTabBanner"))) }; d($(".tab-banner-content .prevTabBanner")), $(".tab-banner-content .prevTabBanner").on("click", function () { e($(this)) }), $(".tab-banner-content .nextTabBanner").on("click", function () { t($(this)) }) }() : (d($(".tab-banner-content .prevTabBanner")), d($(".tab-banner-content .nextTabBanner"))), i = [], $(".swiper-slide.tab-banner-label").each(function () { var e = $(this).attr("id"); i.push(e) }), o = window.location.hash.split("#")[1], $.inArray(o, i) !== -1 && "pestania1" !== o && $("#" + o).trigger("click"), $.fn.equalHeights = function () { var e = 0; this.each(function () { var t = jQuery(this); t.height() > e && (e = t.height()) }), this.each(function () { var t = jQuery(this); t.height(e), l(e) }) }, $(window).load(function () { $(".tab-banner-label").equalHeights() }), $(window).resize(function () { $(".tab-banner-label").equalHeights() }) }() } }), $(function () { function e() { t(), a.length && (a.on("click", ".video-link a, .video-close", function (e) { e.preventDefault(), i($(this).closest(".video-youtube")) }), isMobile.any() && $("section.preguntas-frecuentes-coronita").find(".video-youtube").length < 1 && __(a).each(n)) } function t() { a = $(".video-youtube") } function n(e) { var t = $(e); t.find(".video-link a").remove(); var n = $(o(t.closest(".video-youtube"))); t.find(".video-link").append(n), window.bbva && window.bbva.processVideoForDatalayer && window.bbva.processVideoForDatalayer(n[0]) } function i(e) { var t = e.children(".video-block"); t.data("video-playing") ? (e.removeClass("active"), setTimeout(function () { e.removeClass("show-layer"), setTimeout(function () { e.removeClass("blurred"), t.find(".video-container").children().remove() }, 500) }, 400), t.data("video-playing", !1)) : (e.addClass("blurred"), setTimeout(function () { e.addClass("show-layer"), setTimeout(function () { e.find(".video-container").append(o(e)), e.addClass("active") }, 600) }, 500), t.data("video-playing", !0)) } function o(e) { var t = e.find(".video-block .container").width(), n = e.find(".video-block .container").height(), i = "player-" + Date.now() + parseInt(1e8 * Math.random()), o = e.data("video-id"); return o.indexOf("?") == -1 ? '<iframe id="' + i + '" src="https://www.youtube.com/embed/' + o + '?rel=0&autoplay=1&enablejsapi=1" width="' + t + '" height="' + n + '" frameborder="0" allowfullscreen></iframe>' : '<iframe id="' + i + '" src="https://www.youtube.com/embed/' + o + '&rel=0&autoplay=1&enablejsapi=1" width="' + t + '" height="' + n + '" frameborder="0" allowfullscreen></iframe>' } var a; e() });